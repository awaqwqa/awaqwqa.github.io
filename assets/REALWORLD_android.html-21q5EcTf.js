import{_ as s}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as t,o as d,c as l,a,b as e,d as i,e as r}from"./app-pWcCQCWv.js";const o={},c=a("h1",{id:"android-实战-取证-1",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#android-实战-取证-1","aria-hidden":"true"},"#"),e(" Android 实战-取证(1)")],-1),u=a("h2",{id:"提取data-data目录",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#提取data-data目录","aria-hidden":"true"},"#"),e(" 提取data/data目录")],-1),p={href:"https://blog.csdn.net/yingfengzhaozhan7/article/details/25004331",target:"_blank",rel:"noopener noreferrer"},h=r(`<p>因为正常情况下无法直接adb pull下来文件,adb正常权限是user</p><p>所以我们先进入shell界面</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>adb shell
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>然后su变成root用户后 cp指令将我们想要的文件copy到user可以正常访问的目录比如/data/local/tmp</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">su</span>
<span class="token function">cp</span> <span class="token parameter variable">-r</span> target_path /data/local/tmp
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>然后tar打包后传出来</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">tar</span> <span class="token parameter variable">-cvf</span> target.tar target_path
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>回到宿主机终端</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>adb pull target_path 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>提取成功</p><figure><img src="https://awaqwqa.github.io/img/REALWORLD_android/image-20241218112002935.png" alt="image-20241218112002935" tabindex="0" loading="lazy"><figcaption>image-20241218112002935</figcaption></figure><h2 id="分析databases" tabindex="-1"><a class="header-anchor" href="#分析databases" aria-hidden="true">#</a> 分析databases</h2><p>进入databases文件夹后,我们可以看见大量的db文件我们一个一个来理清楚职能</p><p>这里我们使用的工具是<strong>DataGrip</strong></p><figure><img src="https://awaqwqa.github.io/img/REALWORLD_android/image-20241218112347969.png" alt="image-20241218112347969" tabindex="0" loading="lazy"><figcaption>image-20241218112347969</figcaption></figure><p><strong>downloader</strong></p><ul><li>看起来是下载管理器 记录了需要哪些切片</li></ul><p><strong>jiayuan_438651205.db</strong></p><ul><li>这里很明显就是聊天消息记录了 包含了聊天用户等信息</li><li>Message Table 中包含了聊天消息 好友记录 等内容</li></ul>`,19),g=a("p",null,"这里同时还出现了大量其他类型的文件,但是大多数还是没有什么用的比如:db-shm & db-wal下面有关于他们的解释文章",-1),b={href:"https://blog.csdn.net/qq_35417527/article/details/113940408",target:"_blank",rel:"noopener noreferrer"},_={href:"https://blog.csdn.net/mozart_cai/article/details/26815339",target:"_blank",rel:"noopener noreferrer"},m=a("h2",{id:"获取uid",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#获取uid","aria-hidden":"true"},"#"),e(" 获取uid")],-1),f=a("blockquote",null,[a("p",null,"将shared_prefs目录拖入jadx中 搜索数据库的uid名字就可以查到有关uid的文件了")],-1),v=a("ul",null,[a("li",null,"shared_prefs/curUid.xml 可以获取当前的uid"),a("li",null,"shared_prefs/login_info_f.xml可以获取用户名 uid 个人签名 头像等信息")],-1),x=a("figure",null,[a("img",{src:"https://awaqwqa.github.io/img/REALWORLD_android/image-20241219142158333.png",alt:"image-20241219142158333",tabindex:"0",loading:"lazy"}),a("figcaption",null,"image-20241219142158333")],-1),k=a("ul",null,[a("li",null,"然后根据uid去获取db就行了")],-1);function q(L,R){const n=t("ExternalLinkIcon");return d(),l("div",null,[c,u,a("blockquote",null,[a("p",null,[a("a",p,[e("adb如何获取手机data/data目录下的文件_adb 移动data文件-CSDN博客"),i(n)])])]),h,a("blockquote",null,[g,a("p",null,[a("a",b,[e(".db-shm和.db-wal文件-CSDN博客"),i(n)])]),a("p",null,[e("["),a("a",_,[e("sqlite] db-journal文件产生原因及说明_.db-journal-CSDN博客"),i(n)])])]),m,f,v,x,k])}const E=s(o,[["render",q],["__file","REALWORLD_android.html.vue"]]);export{E as default};
