const e=JSON.parse(`{"key":"v-35be0930","path":"/posts/pwn/linux/linux_kernel1.html","title":"不好看的linux内核安全学习 (1) - 复现d3ctf 2022 d3kheap","lang":"en-US","frontmatter":{"description":"不好看的linux内核安全学习 (1) - 复现d3ctf 2022 d3kheap 题目启动 本blog大量内容都是对参考文章的摘录汇总，方便本人查看（ 所以更推荐直接看参考文章 以及这道题有较多的知识点所以整个文章会有点冗余 可能往后linux内核学习的文章都是这样的形式,通过一个cve或者一个题来学习大量知识点,这样会导致文章都很冗余(充斥大量copy内容),所以我给这个系列叫做《不好看的linux内核安全学习》 内核题在比赛时一般是上传 C 语言程序的 base64 编码到服务器，然后运行 参考文章:浅谈linux中的根文件系统（rootfs的原理和介绍）-CSDN博客 几种linux内核文件的区别(vmlinux、zImage、bzImage、uImage、vmlinuz、initrd )_zimage是什么-CSDN博客 D3CTF2022 - Pwn - d3kheap 题解 - 先知社区 (aliyun.com) qemu常用参数选项说明_qemu 参数-CSDN博客 Kernel pwn CTF 入门 | Kiprey's Blog cpio文件系统的解压和制作方法_window cpio文件直接添加文件-CSDN博客 Linux下编写和加载 .ko 文件（驱动模块文件）_qt 加载 .ko-CSDN博客 Linux 系统设置 : insmod 命令详解_linx如何进入insmod-CSDN博客 Linux内核模块详解_linux编写内核模块-CSDN博客 [【Linux驱动开发100问】什么是模块？如何编写和使用模块？_什么是谷歌挂载模块程序-CSDN博客](https://blog.csdn.net/qq_45172832/article/details/129228731#:~:text=在Linux内核中，模块可以被动态地插入和卸载，因此模块通常被用来扩展内核的功能。,而驱动则是一种特殊的模块，用于管理硬件设备，控制硬件设备的操作。 在Linux中，驱动通常也以模块的形式存在于内核中，从而使得内核可以支持更多的硬件设备。) [Linux内核的ioctl函数学习 - the_tops - 博客园 (cnblogs.com)](https://www.cnblogs.com/the-tops/p/6738089.html#:~:text=ioctl是设备驱动程序中对设备的I%2FO通道进行管理的函数。 所谓对I%2FO通道进行管理，就是对设备的一些特性进行控制，例如串口的传输波特率、马达的转速等等。 它的调用个数如下： int ioctl (int,fd%2C ind cmd%2C …)； 其中fd就是用户程序打开设备时使用open函数返回的文件标示符，cmd就是用户程序对设备的控制命令，至于后面的省略号，那是一些补充参数，一般最多一个，有或没有是和cmd的意义相关的。 ioctl函数是文件结构中的一个属性分量，就是说如果你的驱动程序提供了对ioctl的支持，用户就可以在用户程序中使用ioctl函数控制设备的I%2FO通道。) 内核与用户空间的通信实现——ioctl（驱动+用户程序）_ioctl 释放设备-CSDN博客 linux kernel漏洞系列文章:Pwn In Kernel（一）：基础知识 - FreeBuf网络安全行业门户 linux内核源码:Index of /sites/ftp.kernel.org/pub/linux/kernel/ (sjtu.edu.cn) userfaultfd学习:https://brieflyx.me/2020/linux-tools/userfaultfd-internals/ https://blog.jcix.top/2018-10-01/userfaultfd_intro/ https://blog.csdn.net/seaaseesa/article/details/104650794 sk_buff结构体:https://blog.csdn.net/wangquan1992/article/details/112572572 d3kheap复现:https://ywhkkx.github.io/2022/06/30/msg_msg-sk_buff%E7%9A%84%E7%BB%84%E5%90%88%E5%88%A9%E7%94%A8+pipe_buffer%20attack/ msg_msg CVE-2021-22555 :https://www.freebuf.com/articles/system/286366.html","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/posts/pwn/linux/linux_kernel1.html"}],["meta",{"property":"og:site_name","content":"Blog"}],["meta",{"property":"og:title","content":"不好看的linux内核安全学习 (1) - 复现d3ctf 2022 d3kheap"}],["meta",{"property":"og:description","content":"不好看的linux内核安全学习 (1) - 复现d3ctf 2022 d3kheap 题目启动 本blog大量内容都是对参考文章的摘录汇总，方便本人查看（ 所以更推荐直接看参考文章 以及这道题有较多的知识点所以整个文章会有点冗余 可能往后linux内核学习的文章都是这样的形式,通过一个cve或者一个题来学习大量知识点,这样会导致文章都很冗余(充斥大量copy内容),所以我给这个系列叫做《不好看的linux内核安全学习》 内核题在比赛时一般是上传 C 语言程序的 base64 编码到服务器，然后运行 参考文章:浅谈linux中的根文件系统（rootfs的原理和介绍）-CSDN博客 几种linux内核文件的区别(vmlinux、zImage、bzImage、uImage、vmlinuz、initrd )_zimage是什么-CSDN博客 D3CTF2022 - Pwn - d3kheap 题解 - 先知社区 (aliyun.com) qemu常用参数选项说明_qemu 参数-CSDN博客 Kernel pwn CTF 入门 | Kiprey's Blog cpio文件系统的解压和制作方法_window cpio文件直接添加文件-CSDN博客 Linux下编写和加载 .ko 文件（驱动模块文件）_qt 加载 .ko-CSDN博客 Linux 系统设置 : insmod 命令详解_linx如何进入insmod-CSDN博客 Linux内核模块详解_linux编写内核模块-CSDN博客 [【Linux驱动开发100问】什么是模块？如何编写和使用模块？_什么是谷歌挂载模块程序-CSDN博客](https://blog.csdn.net/qq_45172832/article/details/129228731#:~:text=在Linux内核中，模块可以被动态地插入和卸载，因此模块通常被用来扩展内核的功能。,而驱动则是一种特殊的模块，用于管理硬件设备，控制硬件设备的操作。 在Linux中，驱动通常也以模块的形式存在于内核中，从而使得内核可以支持更多的硬件设备。) [Linux内核的ioctl函数学习 - the_tops - 博客园 (cnblogs.com)](https://www.cnblogs.com/the-tops/p/6738089.html#:~:text=ioctl是设备驱动程序中对设备的I%2FO通道进行管理的函数。 所谓对I%2FO通道进行管理，就是对设备的一些特性进行控制，例如串口的传输波特率、马达的转速等等。 它的调用个数如下： int ioctl (int,fd%2C ind cmd%2C …)； 其中fd就是用户程序打开设备时使用open函数返回的文件标示符，cmd就是用户程序对设备的控制命令，至于后面的省略号，那是一些补充参数，一般最多一个，有或没有是和cmd的意义相关的。 ioctl函数是文件结构中的一个属性分量，就是说如果你的驱动程序提供了对ioctl的支持，用户就可以在用户程序中使用ioctl函数控制设备的I%2FO通道。) 内核与用户空间的通信实现——ioctl（驱动+用户程序）_ioctl 释放设备-CSDN博客 linux kernel漏洞系列文章:Pwn In Kernel（一）：基础知识 - FreeBuf网络安全行业门户 linux内核源码:Index of /sites/ftp.kernel.org/pub/linux/kernel/ (sjtu.edu.cn) userfaultfd学习:https://brieflyx.me/2020/linux-tools/userfaultfd-internals/ https://blog.jcix.top/2018-10-01/userfaultfd_intro/ https://blog.csdn.net/seaaseesa/article/details/104650794 sk_buff结构体:https://blog.csdn.net/wangquan1992/article/details/112572572 d3kheap复现:https://ywhkkx.github.io/2022/06/30/msg_msg-sk_buff%E7%9A%84%E7%BB%84%E5%90%88%E5%88%A9%E7%94%A8+pipe_buffer%20attack/ msg_msg CVE-2021-22555 :https://www.freebuf.com/articles/system/286366.html"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-12-31T02:17:15.000Z"}],["meta",{"property":"article:author","content":"Elegy"}],["meta",{"property":"article:modified_time","content":"2024-12-31T02:17:15.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"不好看的linux内核安全学习 (1) - 复现d3ctf 2022 d3kheap\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-12-31T02:17:15.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Elegy\\"}]}"]]},"headers":[{"level":2,"title":"题目启动","slug":"题目启动","link":"#题目启动","children":[{"level":3,"title":"文件类型","slug":"文件类型","link":"#文件类型","children":[]},{"level":3,"title":"构建环境","slug":"构建环境","link":"#构建环境","children":[]}]},{"level":2,"title":"前置知识","slug":"前置知识","link":"#前置知识","children":[{"level":3,"title":"模块(ko)","slug":"模块-ko","link":"#模块-ko","children":[]},{"level":3,"title":"file_operations结构体","slug":"file-operations结构体","link":"#file-operations结构体","children":[]},{"level":3,"title":"linux内核管理","slug":"linux内核管理","link":"#linux内核管理","children":[]}]},{"level":2,"title":"d3kheap复现","slug":"d3kheap复现","link":"#d3kheap复现","children":[{"level":3,"title":"信息","slug":"信息","link":"#信息","children":[]},{"level":3,"title":"申请chunk","slug":"申请chunk","link":"#申请chunk","children":[]},{"level":3,"title":"Msg_msg堆喷 UAF","slug":"msg-msg堆喷-uaf","link":"#msg-msg堆喷-uaf","children":[]},{"level":3,"title":"sk_buf 堆喷 定位","slug":"sk-buf-堆喷-定位","link":"#sk-buf-堆喷-定位","children":[]}]}],"git":{"createdTime":1734339486000,"updatedTime":1735611435000,"contributors":[{"name":"Elegy","email":"88972629+awaqwqa@users.noreply.github.com","commits":2}]},"readingTime":{"minutes":14.39,"words":4316},"filePathRelative":"posts/pwn/linux/linux_kernel1.md","localizedDate":"December 16, 2024","excerpt":"<h1> 不好看的linux内核安全学习 (1) - 复现d3ctf 2022 d3kheap</h1>\\n<h2> 题目启动</h2>\\n<blockquote>\\n<p>本blog大量内容都是对参考文章的摘录汇总，方便本人查看（ 所以更推荐直接看参考文章</p>\\n<p>以及这道题有较多的知识点所以整个文章会有点冗余</p>\\n<p>可能往后linux内核学习的文章都是这样的形式,通过一个cve或者一个题来学习大量知识点,这样会导致文章都很冗余(充斥大量copy内容),所以我给这个系列叫做《不好看的linux内核安全学习》</p>\\n<p>内核题在比赛时一般是上传 C 语言程序的 base64 编码到服务器，然后运行</p>\\n<p>参考文章:<a href=\\"https://blog.csdn.net/LEON1741/article/details/78159754\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">浅谈linux中的根文件系统（rootfs的原理和介绍）-CSDN博客</a></p>\\n<p><a href=\\"https://blog.csdn.net/hanxuefan/article/details/7454352\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">几种linux内核文件的区别(vmlinux、zImage、bzImage、uImage、vmlinuz、initrd )_zimage是什么-CSDN博客</a></p>\\n<p><a href=\\"https://xz.aliyun.com/t/11370?time__1311=Cq0xR70QeiuDlxGgx%2BOADgGEoKK7T4FpD\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">D3CTF2022 - Pwn - d3kheap 题解 - 先知社区 (aliyun.com)</a></p>\\n<p><a href=\\"https://blog.csdn.net/weixin_39871788/article/details/123250595\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">qemu常用参数选项说明_qemu 参数-CSDN博客</a></p>\\n<p><a href=\\"https://kiprey.github.io/2021/10/kernel_pwn_introduction/#%E4%BA%8C%E3%80%81%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Kernel pwn CTF 入门 | Kiprey's Blog</a></p>\\n<p><a href=\\"https://blog.csdn.net/dba_monkey/article/details/60767147\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">cpio文件系统的解压和制作方法_window cpio文件直接添加文件-CSDN博客</a></p>\\n<p><a href=\\"https://blog.csdn.net/qq_38880380/article/details/79227760\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Linux下编写和加载 .ko 文件（驱动模块文件）_qt 加载 .ko-CSDN博客</a></p>\\n<p><a href=\\"https://blog.csdn.net/yexiangCSDN/article/details/82828055\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Linux 系统设置 : insmod 命令详解_linx如何进入insmod-CSDN博客</a></p>\\n<p><a href=\\"https://blog.csdn.net/qq_33406883/article/details/100071183\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Linux内核模块详解_linux编写内核模块-CSDN博客</a></p>\\n<p>[【Linux驱动开发100问】什么是模块？如何编写和使用模块？_什么是谷歌挂载模块程序-CSDN博客](https://blog.csdn.net/qq_45172832/article/details/129228731#:~:text=在Linux内核中，模块可以被动态地插入和卸载，因此模块通常被用来扩展内核的功能。,而驱动则是一种特殊的模块，用于管理硬件设备，控制硬件设备的操作。 在Linux中，驱动通常也以模块的形式存在于内核中，从而使得内核可以支持更多的硬件设备。)</p>\\n<p>[Linux内核的ioctl函数学习 - the_tops - 博客园 (cnblogs.com)](https://www.cnblogs.com/the-tops/p/6738089.html#:~:text=ioctl是设备驱动程序中对设备的I%2FO通道进行管理的函数。 所谓对I%2FO通道进行管理，就是对设备的一些特性进行控制，例如串口的传输波特率、马达的转速等等。 它的调用个数如下： int ioctl (int,fd%2C ind cmd%2C …)； 其中fd就是用户程序打开设备时使用open函数返回的文件标示符，cmd就是用户程序对设备的控制命令，至于后面的省略号，那是一些补充参数，一般最多一个，有或没有是和cmd的意义相关的。 ioctl函数是文件结构中的一个属性分量，就是说如果你的驱动程序提供了对ioctl的支持，用户就可以在用户程序中使用ioctl函数控制设备的I%2FO通道。)</p>\\n<p><a href=\\"https://blog.csdn.net/ljl113/article/details/127013196\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">内核与用户空间的通信实现——ioctl（驱动+用户程序）_ioctl 释放设备-CSDN博客</a></p>\\n<p>linux kernel漏洞系列文章:<a href=\\"https://www.freebuf.com/articles/system/227357.html\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Pwn In Kernel（一）：基础知识 - FreeBuf网络安全行业门户</a></p>\\n<p>linux内核源码:<a href=\\"http://ftp.sjtu.edu.cn/sites/ftp.kernel.org/pub/linux/kernel/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Index of /sites/ftp.kernel.org/pub/linux/kernel/ (sjtu.edu.cn)</a></p>\\n<p>userfaultfd学习:https://brieflyx.me/2020/linux-tools/userfaultfd-internals/</p>\\n<p>https://blog.jcix.top/2018-10-01/userfaultfd_intro/</p>\\n<p>https://blog.csdn.net/seaaseesa/article/details/104650794</p>\\n<p>sk_buff结构体:https://blog.csdn.net/wangquan1992/article/details/112572572</p>\\n<p>d3kheap复现:https://ywhkkx.github.io/2022/06/30/msg_msg-sk_buff%E7%9A%84%E7%BB%84%E5%90%88%E5%88%A9%E7%94%A8+pipe_buffer%20attack/</p>\\n<p>msg_msg CVE-2021-22555 :https://www.freebuf.com/articles/system/286366.html</p>\\n</blockquote>","autoDesc":true}`);export{e as data};
